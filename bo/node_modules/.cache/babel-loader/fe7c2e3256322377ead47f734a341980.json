{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Cours\\\\Projets\\\\React\\\\API-BO\\\\bo\\\\src\\\\components\\\\Panel\\\\Schools\\\\index.js\";\nimport React from \"react\";\nimport { getSchools } from \"../../../API/school\";\nimport \"./Schools.css\";\nimport Options from \"./Options\";\n\nclass Schools extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      schools: [],\n      schoolsDisplay: [],\n      selectedSchool: -1\n    };\n  }\n\n  async componentDidMount() {\n    const results = await getSchools();\n    this.setState({\n      schools: results,\n      schoolsDisplay: results\n    });\n  }\n\n  search(e) {\n    let searchValue = e.target.value;\n\n    if (searchValue === \"\") {\n      let schoolsDisplay = this.state.schools;\n      this.setState({\n        usersDisplay: schoolsDisplay\n      });\n    } else {\n      let schools = this.state.schools;\n      let filteredSchools = schools.filter(school => {\n        return school.address.toLowerCase().includes(searchValue) || school.name.toLowerCase().includes(searchValue);\n      });\n      this.setState({\n        schoolsDisplay: filteredSchools\n      });\n    }\n  }\n\n  selectSchool(schoolId) {\n    this.setState({\n      selectedSchool: schoolId\n    });\n  }\n\n  schoolsTab() {\n    let schools = this.state.schoolsDisplay;\n    return schools.map((school, index) => {\n      const {\n        id,\n        name,\n        address,\n        phonenumber\n      } = school;\n      let alt = index % 2 === 1 ? \"alt\" : \"\";\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: phonenumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"optionsButton\",\n            onClick: () => this.selectSchool(id),\n            children: \"\\uD83D\\uDDD2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"editButton\",\n            children: \"\\u270F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"deleteButton\",\n            children: \"\\uD83D\\uDDD1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n  render() {\n    let options = null;\n    if (this.state.selectedSchool !== -1) options = /*#__PURE__*/_jsxDEV(Options, {\n      schoolId: this.state.selectedSchool\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 23\n    }, this);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"schools\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"schoolTitle\",\n        children: \"SCHOOLS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"searchBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"searchInput\",\n          type: \"text\",\n          name: \"\",\n          placeholder: \"Search\",\n          onChange: e => this.search(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"searchButton\",\n          onClick: e => e.preventDefault(),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Phone number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Options\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 71\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 87\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 100\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.schoolsTab()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"addSchoolWrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"addSchoolButton\",\n          children: \"Add a school\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this), options]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default Schools;","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/components/Panel/Schools/index.js"],"names":["React","getSchools","Options","Schools","Component","constructor","props","state","schools","schoolsDisplay","selectedSchool","componentDidMount","results","setState","search","e","searchValue","target","value","usersDisplay","filteredSchools","filter","school","address","toLowerCase","includes","name","selectSchool","schoolId","schoolsTab","map","index","id","phonenumber","alt","render","options","preventDefault"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport {getSchools} from \"../../../API/school\";\n\nimport \"./Schools.css\";\n\nimport Options from \"./Options\";\n\nclass Schools extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            schools: [],\n            schoolsDisplay: [],\n            selectedSchool: -1\n        }\n    }\n\n    async componentDidMount() {\n        const results = await getSchools();\n        this.setState({\n            schools: results,\n            schoolsDisplay: results\n        });\n    }\n\n    search(e){\n        let searchValue = e.target.value;\n        if(searchValue === \"\"){\n            let schoolsDisplay = this.state.schools;\n            this.setState({usersDisplay: schoolsDisplay});\n        } else {\n            let schools = this.state.schools;\n            let filteredSchools = schools.filter((school) => {\n                return school.address.toLowerCase().includes(searchValue)\n                    || school.name.toLowerCase().includes(searchValue);\n            })\n            this.setState({schoolsDisplay: filteredSchools});\n        }\n    }\n\n    selectSchool(schoolId) {\n        this.setState({\n            selectedSchool: schoolId\n        });\n    }\n\n    schoolsTab() {\n        let schools = this.state.schoolsDisplay;\n\n        return schools.map((school, index) => {\n            const {id, name, address, phonenumber} = school;\n            let alt = (index % 2) === 1 ? \"alt\" : \"\";\n            return (\n                <tr key={index}>\n                    <td className={alt}>{name}</td>\n                    <td className={alt}>{address}</td>\n                    <td className={alt}>{phonenumber}</td>\n                    <td className={alt}><button className=\"optionsButton\" onClick={() => this.selectSchool(id)}>🗒</button></td>\n                    <td className={alt}><button className=\"editButton\">✏</button></td>\n                    <td className={alt}><button className=\"deleteButton\">🗑</button></td>\n                </tr>\n            );\n        });\n    }\n\n    render(){\n\n        let options = null;\n        if(this.state.selectedSchool !== -1)\n            options = <Options schoolId={this.state.selectedSchool}/>;\n\n        return <div id=\"schools\">\n            <p className=\"schoolTitle\">SCHOOLS</p>\n\n            <form className=\"searchBox\">\n                <input className=\"searchInput\" type=\"text\" name=\"\" placeholder=\"Search\" onChange={(e) => this.search(e)}/>\n                <button className=\"searchButton\" onClick={(e) => e.preventDefault()}>\n                    <i className=\"fa fa-search\"/>\n                </button>\n            </form>\n\n            <table>\n                <thead>\n                <tr><th>Name</th><th>Address</th><th>Phone number</th><th>Options</th><th>Edit</th><th>Delete</th></tr>\n                </thead>\n                <tbody>\n                {this.schoolsTab()}\n                </tbody>\n            </table>\n\n            <p id=\"addSchoolWrapper\"><button id=\"addSchoolButton\">Add a school</button></p>\n\n            {options}\n        </div>\n    }\n}\n\nexport default Schools;"]},"metadata":{},"sourceType":"module"}