{"ast":null,"code":"import axios from 'axios';\nimport { getAPI } from \"./utils\";\nconst URL_LOGIN = getAPI(\"login\");\n\nconst connect = async (email, password) => {\n  if (email !== undefined && password !== undefined) {\n    try {\n      const resp = await axios.post(URL_LOGIN, {\n        email,\n        password\n      });\n      localStorage.setItem(\"token\", resp.data);\n    } catch (e) {\n      throw new Error(\"Login or password incorrect !\");\n    }\n  } else {\n    throw new Error(\"You need to enter a login and a password !\");\n  }\n};\n\nconst disconnect = () => {\n  window.localStorage.removeItem(\"token\");\n};\n\nexport { connect, disconnect };","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/API/login.js"],"names":["axios","getAPI","URL_LOGIN","connect","email","password","undefined","resp","post","localStorage","setItem","data","e","Error","disconnect","window","removeItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAAQC,MAAR,QAAqB,SAArB;AAEA,MAAMC,SAAS,GAAGD,MAAM,CAAC,OAAD,CAAxB;;AAEA,MAAME,OAAO,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;AACvC,MAAGD,KAAK,KAAKE,SAAV,IAAuBD,QAAQ,KAAKC,SAAvC,EAAiD;AAC7C,QAAI;AACA,YAAMC,IAAI,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAWN,SAAX,EACf;AACIE,QAAAA,KADJ;AAEIC,QAAAA;AAFJ,OADe,CAAnB;AAKAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACI,IAAnC;AACH,KAPD,CAOE,OAAMC,CAAN,EAAQ;AACN,YAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;AACH;AACJ,GAXD,MAWO;AACH,UAAM,IAAIA,KAAJ,CAAU,4CAAV,CAAN;AACH;AACJ,CAfD;;AAiBA,MAAMC,UAAU,GAAG,MAAM;AACrBC,EAAAA,MAAM,CAACN,YAAP,CAAoBO,UAApB,CAA+B,OAA/B;AACH,CAFD;;AAIA,SAAQb,OAAR,EAAiBW,UAAjB","sourcesContent":["import axios from 'axios';\n\nimport {getAPI} from \"./utils\";\n\nconst URL_LOGIN = getAPI(\"login\");\n\nconst connect = async (email, password) => {\n    if(email !== undefined && password !== undefined){\n        try {\n            const resp = await axios.post(URL_LOGIN,\n                {\n                    email,\n                    password\n                });\n            localStorage.setItem(\"token\", resp.data);\n        } catch(e){\n            throw new Error(\"Login or password incorrect !\");\n        }\n    } else {\n        throw new Error(\"You need to enter a login and a password !\");\n    }\n}\n\nconst disconnect = () => {\n    window.localStorage.removeItem(\"token\");\n}\n\nexport {connect, disconnect};"]},"metadata":{},"sourceType":"module"}