{"ast":null,"code":"import axios from 'axios';\nimport { getAPI, getHeaders } from \"./utils\";\nconst URL_ROLEUSER = getAPI(\"user/role\");\nconst URL_USER = getAPI(\"user\");\n\nconst getRole = async token => {\n  try {\n    const resp = await axios.get(URL_ROLEUSER, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    });\n    return resp.data.role;\n  } catch (e) {\n    throw new Error(\"Error while loading role!\");\n  }\n};\n\nconst getUsers = async () => {\n  try {\n    const resp = await axios.get(URL_USER, {\n      headers: getHeaders()\n    });\n    return resp.data;\n  } catch (e) {\n    throw new Error(\"Error while loading users\");\n  }\n};\n\nconst deleteUser = async email => {\n  try {\n    await axios.delete(URL_USER, {\n      headers: getHeaders(),\n      data: {\n        email: email\n      }\n    });\n  } catch (e) {\n    throw new Error(\"Error deleting user !\");\n  }\n};\n\nexport { getRole, getUsers, deleteUser };","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/API/user.js"],"names":["axios","getAPI","getHeaders","URL_ROLEUSER","URL_USER","getRole","token","resp","get","headers","data","role","e","Error","getUsers","deleteUser","email","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAAQC,MAAR,EAAgBC,UAAhB,QAAiC,SAAjC;AAEA,MAAMC,YAAY,GAAGF,MAAM,CAAC,WAAD,CAA3B;AACA,MAAMG,QAAQ,GAAGH,MAAM,CAAC,MAAD,CAAvB;;AAEA,MAAMI,OAAO,GAAG,MAAOC,KAAP,IAAiB;AAC7B,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAUL,YAAV,EACf;AACIM,MAAAA,OAAO,EAAE;AACL,yBAAkB,UAASH,KAAM;AAD5B;AADb,KADe,CAAnB;AAMA,WAAOC,IAAI,CAACG,IAAL,CAAUC,IAAjB;AACH,GARD,CAQE,OAAMC,CAAN,EAAQ;AACN,UAAM,IAAIC,KAAJ,CAAU,2BAAV,CAAN;AACH;AACJ,CAZD;;AAcA,MAAMC,QAAQ,GAAG,YAAY;AACzB,MAAI;AACA,UAAMP,IAAI,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAUJ,QAAV,EAAoB;AAACK,MAAAA,OAAO,EAAEP,UAAU;AAApB,KAApB,CAAnB;AACA,WAAOK,IAAI,CAACG,IAAZ;AACH,GAHD,CAGE,OAAME,CAAN,EAAQ;AACN,UAAM,IAAIC,KAAJ,CAAU,2BAAV,CAAN;AACH;AACJ,CAPD;;AASA,MAAME,UAAU,GAAG,MAAOC,KAAP,IAAiB;AAChC,MAAI;AACA,UAAMhB,KAAK,CAACiB,MAAN,CAAab,QAAb,EAAuB;AACzBK,MAAAA,OAAO,EAAEP,UAAU,EADM;AAEzBQ,MAAAA,IAAI,EAAE;AACFM,QAAAA,KAAK,EAAEA;AADL;AAFmB,KAAvB,CAAN;AAMH,GAPD,CAOE,OAAMJ,CAAN,EAAQ;AACN,UAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;AACH;AACJ,CAXD;;AAaA,SAAQR,OAAR,EAAiBS,QAAjB,EAA2BC,UAA3B","sourcesContent":["import axios from 'axios';\n\nimport {getAPI, getHeaders} from \"./utils\";\n\nconst URL_ROLEUSER = getAPI(\"user/role\");\nconst URL_USER = getAPI(\"user\");\n\nconst getRole = async (token) => {\n    try {\n        const resp = await axios.get(URL_ROLEUSER,\n            {\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                }\n            });\n        return resp.data.role;\n    } catch(e){\n        throw new Error(\"Error while loading role!\");\n    }\n}\n\nconst getUsers = async () => {\n    try {\n        const resp = await axios.get(URL_USER, {headers: getHeaders()});\n        return resp.data;\n    } catch(e){\n        throw new Error(\"Error while loading users\");\n    }\n}\n\nconst deleteUser = async (email) => {\n    try {\n        await axios.delete(URL_USER, {\n            headers: getHeaders(),\n            data: {\n                email: email\n            }\n        })\n    } catch(e){\n        throw new Error(\"Error deleting user !\");\n    }\n}\n\nexport {getRole, getUsers, deleteUser};"]},"metadata":{},"sourceType":"module"}