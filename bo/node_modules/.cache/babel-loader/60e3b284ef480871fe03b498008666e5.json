{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Cours\\\\Projets\\\\React\\\\API-BO\\\\bo\\\\src\\\\components\\\\Panel\\\\index.js\";\nimport React from \"react\";\nimport { disconnect } from \"../../API/login\";\nimport { getRole } from \"../../API/user\";\nimport Schools from \"./Schools\";\nimport Menu from \"./Menu\";\nimport Users from \"./Users\";\nimport \"./Panel.css\";\n\nclass Panel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.disconnect = e => {\n      e.preventDefault();\n      disconnect();\n      this.props.history.push(\"/\");\n    };\n\n    this.selectMenu = (menu, elem) => {\n      if (this.state.currentElem !== null) {\n        this.state.currentElem.classList.remove(\"active\");\n      } else {\n        document.getElementById(\"defaultMenu\").classList.remove(\"active\");\n      }\n\n      elem.classList.add(\"active\");\n      this.setState({\n        currentMenu: menu,\n        currentElem: elem\n      });\n    };\n\n    this.state = {\n      currentMenu: \"schools\",\n      currentElem: null\n    };\n  }\n\n  async componentDidMount() {\n    if (localStorage.getItem(\"token\") === null) {\n      this.props.history.push(\"/\");\n    } else {\n      try {\n        let role = await getRole(localStorage.getItem(\"token\"));\n\n        if (role === \"user\") {\n          this.props.history.push(\"/accessDenied\");\n        } else {\n          this.setState({\n            role: role\n          });\n        }\n      } catch (e) {\n        disconnect();\n        this.props.history.push(\"/\");\n      }\n    }\n  }\n\n  render() {\n    let menuToDisplay;\n\n    switch (this.state.currentMenu) {\n      case \"schools\":\n        menuToDisplay = /*#__PURE__*/_jsxDEV(Schools, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 33\n        }, this);\n        break;\n\n      case \"users\":\n        menuToDisplay = /*#__PURE__*/_jsxDEV(Users, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 33\n        }, this);\n        break;\n\n      case \"publications\":\n        menuToDisplay = /*#__PURE__*/_jsxDEV(Schools, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }, this);\n        break;\n\n      default:\n        menuToDisplay = /*#__PURE__*/_jsxDEV(Schools, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"panel\",\n      children: [/*#__PURE__*/_jsxDEV(Menu, {\n        selectMenu: this.selectMenu,\n        disconnect: this.disconnect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), menuToDisplay]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default Panel;","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/components/Panel/index.js"],"names":["React","disconnect","getRole","Schools","Menu","Users","Panel","Component","constructor","props","e","preventDefault","history","push","selectMenu","menu","elem","state","currentElem","classList","remove","document","getElementById","add","setState","currentMenu","componentDidMount","localStorage","getItem","role","render","menuToDisplay"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport {disconnect} from \"../../API/login\";\nimport {getRole} from \"../../API/user\";\n\nimport Schools from \"./Schools\";\nimport Menu from \"./Menu\";\nimport Users from \"./Users\";\n\nimport \"./Panel.css\";\n\nclass Panel extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentMenu: \"schools\",\n            currentElem: null\n        }\n\n    }\n\n    disconnect = (e) => {\n        e.preventDefault();\n        disconnect();\n        this.props.history.push(\"/\");\n    }\n\n    selectMenu = (menu, elem) => {\n        if(this.state.currentElem !== null){\n            this.state.currentElem.classList.remove(\"active\");\n        } else {\n            document.getElementById(\"defaultMenu\").classList.remove(\"active\");\n        }\n\n        elem.classList.add(\"active\");\n\n        this.setState({currentMenu: menu, currentElem: elem});\n    }\n\n    async componentDidMount() {\n        if(localStorage.getItem(\"token\") === null){\n            this.props.history.push(\"/\");\n        } else {\n            try {\n                let role = await getRole(localStorage.getItem(\"token\"));\n                if(role === \"user\"){\n                    this.props.history.push(\"/accessDenied\");\n                } else {\n                    this.setState({role: role});\n                }\n            } catch (e){\n                disconnect();\n                this.props.history.push(\"/\");\n            }\n        }\n    }\n\n    render () {\n        let menuToDisplay;\n        switch (this.state.currentMenu) {\n            case \"schools\" :\n                menuToDisplay = <Schools/>;\n                break;\n            case \"users\" :\n                menuToDisplay = <Users/>;\n                break;\n            case \"publications\" :\n                menuToDisplay = <Schools/>;\n                break;\n            default:\n                menuToDisplay = <Schools/>;\n        }\n\n        return <div id=\"panel\">\n            <Menu selectMenu={this.selectMenu} disconnect={this.disconnect}/>\n\n            {menuToDisplay}\n        </div>\n    }\n}\n\nexport default Panel;"]},"metadata":{},"sourceType":"module"}