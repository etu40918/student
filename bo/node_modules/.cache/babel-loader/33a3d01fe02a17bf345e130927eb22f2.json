{"ast":null,"code":"import axios from \"axios\";\nimport { getHeaders, getAPI } from \"./utils\";\nconst PUBLICATION_URL = getAPI(\"publication\");\nconst REPORTS_URL = getAPI(\"publication/reports\");\n\nconst getPublications = async (orderByReports = false) => {\n  try {\n    const resp = await axios.post(PUBLICATION_URL, {\n      orderByReports: orderByReports\n    }, {\n      headers: getHeaders()\n    });\n    return resp.data;\n  } catch (e) {\n    throw new Error(\"Error loading publications\");\n  }\n};\n\nconst deleteReports = async publiID => {\n  try {\n    await axios.delete(REPORTS_URL, {\n      headers: getHeaders(),\n      data: {\n        publiID: publiID\n      }\n    });\n  } catch (e) {\n    throw new Error(\"Error while deleting reports\");\n  }\n};\n\nconst deletePublication = async id => {\n  try {\n    await axios.delete(PUBLICATION_URL, {\n      headers: getHeaders(),\n      data: {\n        id: id\n      }\n    });\n  } catch (e) {\n    throw new Error(\"Error while deleting publication\");\n  }\n};\n\nexport { getPublications, deleteReports, deletePublication };","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/API/publication.js"],"names":["axios","getHeaders","getAPI","PUBLICATION_URL","REPORTS_URL","getPublications","orderByReports","resp","post","headers","data","e","Error","deleteReports","publiID","delete","deletePublication","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,EAAoBC,MAApB,QAAiC,SAAjC;AAEA,MAAMC,eAAe,GAAGD,MAAM,CAAC,aAAD,CAA9B;AAEA,MAAME,WAAW,GAAGF,MAAM,CAAC,qBAAD,CAA1B;;AAEA,MAAMG,eAAe,GAAG,OAAOC,cAAc,GAAG,KAAxB,KAAkC;AACtD,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAWL,eAAX,EAA4B;AAC3CG,MAAAA,cAAc,EAAEA;AAD2B,KAA5B,EAEhB;AAACG,MAAAA,OAAO,EAAER,UAAU;AAApB,KAFgB,CAAnB;AAGA,WAAOM,IAAI,CAACG,IAAZ;AACH,GALD,CAKE,OAAOC,CAAP,EAAU;AACR,UAAM,IAAIC,KAAJ,CAAU,4BAAV,CAAN;AACH;AACJ,CATD;;AAWA,MAAMC,aAAa,GAAG,MAAOC,OAAP,IAAmB;AACrC,MAAI;AACD,UAAMd,KAAK,CAACe,MAAN,CAAaX,WAAb,EAA0B;AAC3BK,MAAAA,OAAO,EAAER,UAAU,EADQ;AAE3BS,MAAAA,IAAI,EAAE;AACFI,QAAAA,OAAO,EAAEA;AADP;AAFqB,KAA1B,CAAN;AAMF,GAPD,CAOE,OAAMH,CAAN,EAAS;AACP,UAAM,IAAIC,KAAJ,CAAU,8BAAV,CAAN;AACH;AACJ,CAXD;;AAaA,MAAMI,iBAAiB,GAAG,MAAMC,EAAN,IAAa;AACnC,MAAI;AACA,UAAMjB,KAAK,CAACe,MAAN,CAAaZ,eAAb,EAA8B;AAChCM,MAAAA,OAAO,EAAER,UAAU,EADa;AAEhCS,MAAAA,IAAI,EAAE;AACFO,QAAAA,EAAE,EAAEA;AADF;AAF0B,KAA9B,CAAN;AAMH,GAPD,CAOE,OAAMN,CAAN,EAAS;AACP,UAAM,IAAIC,KAAJ,CAAU,kCAAV,CAAN;AACH;AACJ,CAXD;;AAaA,SAAQP,eAAR,EAAyBQ,aAAzB,EAAwCG,iBAAxC","sourcesContent":["import axios from \"axios\";\nimport {getHeaders, getAPI} from \"./utils\";\n\nconst PUBLICATION_URL = getAPI(\"publication\");\n\nconst REPORTS_URL = getAPI(\"publication/reports\");\n\nconst getPublications = async (orderByReports = false) => {\n    try {\n        const resp = await axios.post(PUBLICATION_URL, {\n            orderByReports: orderByReports\n        }, {headers: getHeaders()});\n        return resp.data;\n    } catch (e) {\n        throw new Error(\"Error loading publications\");\n    }\n}\n\nconst deleteReports = async (publiID) => {\n    try {\n       await axios.delete(REPORTS_URL, {\n            headers: getHeaders(),\n            data: {\n                publiID: publiID\n            }\n        });\n    } catch(e) {\n        throw new Error(\"Error while deleting reports\");\n    }\n}\n\nconst deletePublication = async(id) => {\n    try {\n        await axios.delete(PUBLICATION_URL, {\n            headers: getHeaders(),\n            data: {\n                id: id\n            }\n        });\n    } catch(e) {\n        throw new Error(\"Error while deleting publication\");\n    }\n}\n\nexport {getPublications, deleteReports, deletePublication};"]},"metadata":{},"sourceType":"module"}