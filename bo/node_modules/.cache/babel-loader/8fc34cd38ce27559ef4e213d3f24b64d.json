{"ast":null,"code":"import axios from \"axios\";\nimport { getHeaders, getAPI } from \"./utils\";\nconst PUBLICATION_URL = getAPI(\"publication\");\nconst REPORTS_URL = getAPI(\"publication/reports\");\nconst COMMENTS_URL = getAPI(\"publication/comments\");\n\nconst getPublications = async (orderByReports = false) => {\n  try {\n    const resp = await axios.post(PUBLICATION_URL, {\n      orderByReports: orderByReports\n    }, {\n      headers: getHeaders()\n    });\n    return resp.data;\n  } catch (e) {\n    throw new Error(\"Error loading publications\");\n  }\n};\n\nconst deleteReports = async publiID => {\n  try {\n    await axios.delete(REPORTS_URL, {\n      headers: getHeaders(),\n      data: {\n        publiID: publiID\n      }\n    });\n  } catch (e) {\n    throw new Error(\"Error while deleting reports\");\n  }\n};\n\nconst deletePublication = async id => {\n  try {\n    await axios.delete(PUBLICATION_URL, {\n      headers: getHeaders(),\n      data: {\n        id: id\n      }\n    });\n  } catch (e) {\n    throw new Error(\"Error while deleting publication\");\n  }\n};\n\nconst getComments = async publiID => {\n  try {\n    const resp = await axios.post(COMMENTS_URL, {\n      publiID: publiID\n    }, {\n      headers: getHeaders()\n    });\n    console.log(resp.data);\n    return resp.data;\n  } catch (e) {\n    throw new Error(\"Error loading comments\");\n  }\n};\n\nconst deleteComment = async id => {\n  try {\n    await axios.delete(COMMENTS_URL, {\n      headers: getHeaders(),\n      data: {\n        id: id\n      }\n    });\n  } catch (e) {\n    throw new Error(\"Error while deleting comment !\");\n  }\n};\n\nexport { getPublications, deleteReports, deletePublication, getComments, deleteComment };","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/API/publication.js"],"names":["axios","getHeaders","getAPI","PUBLICATION_URL","REPORTS_URL","COMMENTS_URL","getPublications","orderByReports","resp","post","headers","data","e","Error","deleteReports","publiID","delete","deletePublication","id","getComments","console","log","deleteComment"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,UAAR,EAAoBC,MAApB,QAAiC,SAAjC;AAEA,MAAMC,eAAe,GAAGD,MAAM,CAAC,aAAD,CAA9B;AAEA,MAAME,WAAW,GAAGF,MAAM,CAAC,qBAAD,CAA1B;AAEA,MAAMG,YAAY,GAAGH,MAAM,CAAC,sBAAD,CAA3B;;AAEA,MAAMI,eAAe,GAAG,OAAOC,cAAc,GAAG,KAAxB,KAAkC;AACtD,MAAI;AACA,UAAMC,IAAI,GAAG,MAAMR,KAAK,CAACS,IAAN,CAAWN,eAAX,EAA4B;AAC3CI,MAAAA,cAAc,EAAEA;AAD2B,KAA5B,EAEhB;AAACG,MAAAA,OAAO,EAAET,UAAU;AAApB,KAFgB,CAAnB;AAGA,WAAOO,IAAI,CAACG,IAAZ;AACH,GALD,CAKE,OAAOC,CAAP,EAAU;AACR,UAAM,IAAIC,KAAJ,CAAU,4BAAV,CAAN;AACH;AACJ,CATD;;AAWA,MAAMC,aAAa,GAAG,MAAOC,OAAP,IAAmB;AACrC,MAAI;AACD,UAAMf,KAAK,CAACgB,MAAN,CAAaZ,WAAb,EAA0B;AAC3BM,MAAAA,OAAO,EAAET,UAAU,EADQ;AAE3BU,MAAAA,IAAI,EAAE;AACFI,QAAAA,OAAO,EAAEA;AADP;AAFqB,KAA1B,CAAN;AAMF,GAPD,CAOE,OAAMH,CAAN,EAAS;AACP,UAAM,IAAIC,KAAJ,CAAU,8BAAV,CAAN;AACH;AACJ,CAXD;;AAaA,MAAMI,iBAAiB,GAAG,MAAMC,EAAN,IAAa;AACnC,MAAI;AACA,UAAMlB,KAAK,CAACgB,MAAN,CAAab,eAAb,EAA8B;AAChCO,MAAAA,OAAO,EAAET,UAAU,EADa;AAEhCU,MAAAA,IAAI,EAAE;AACFO,QAAAA,EAAE,EAAEA;AADF;AAF0B,KAA9B,CAAN;AAMH,GAPD,CAOE,OAAMN,CAAN,EAAS;AACP,UAAM,IAAIC,KAAJ,CAAU,kCAAV,CAAN;AACH;AACJ,CAXD;;AAaA,MAAMM,WAAW,GAAG,MAAOJ,OAAP,IAAmB;AACnC,MAAI;AACA,UAAMP,IAAI,GAAG,MAAMR,KAAK,CAACS,IAAN,CAAWJ,YAAX,EAAyB;AACxCU,MAAAA,OAAO,EAAEA;AAD+B,KAAzB,EAEhB;AAACL,MAAAA,OAAO,EAAET,UAAU;AAApB,KAFgB,CAAnB;AAGAmB,IAAAA,OAAO,CAACC,GAAR,CAAYb,IAAI,CAACG,IAAjB;AACA,WAAOH,IAAI,CAACG,IAAZ;AACH,GAND,CAME,OAAOC,CAAP,EAAS;AACP,UAAM,IAAIC,KAAJ,CAAU,wBAAV,CAAN;AACH;AACJ,CAVD;;AAYA,MAAMS,aAAa,GAAG,MAAMJ,EAAN,IAAa;AAC/B,MAAI;AACA,UAAMlB,KAAK,CAACgB,MAAN,CAAaX,YAAb,EAA2B;AAC7BK,MAAAA,OAAO,EAAET,UAAU,EADU;AAE7BU,MAAAA,IAAI,EAAG;AACHO,QAAAA,EAAE,EAAEA;AADD;AAFsB,KAA3B,CAAN;AAMH,GAPD,CAOE,OAAMN,CAAN,EAAS;AACP,UAAM,IAAIC,KAAJ,CAAU,gCAAV,CAAN;AACH;AACJ,CAXD;;AAYA,SAAQP,eAAR,EAAyBQ,aAAzB,EAAwCG,iBAAxC,EAA2DE,WAA3D,EAAwEG,aAAxE","sourcesContent":["import axios from \"axios\";\nimport {getHeaders, getAPI} from \"./utils\";\n\nconst PUBLICATION_URL = getAPI(\"publication\");\n\nconst REPORTS_URL = getAPI(\"publication/reports\");\n\nconst COMMENTS_URL = getAPI(\"publication/comments\");\n\nconst getPublications = async (orderByReports = false) => {\n    try {\n        const resp = await axios.post(PUBLICATION_URL, {\n            orderByReports: orderByReports\n        }, {headers: getHeaders()});\n        return resp.data;\n    } catch (e) {\n        throw new Error(\"Error loading publications\");\n    }\n}\n\nconst deleteReports = async (publiID) => {\n    try {\n       await axios.delete(REPORTS_URL, {\n            headers: getHeaders(),\n            data: {\n                publiID: publiID\n            }\n        });\n    } catch(e) {\n        throw new Error(\"Error while deleting reports\");\n    }\n}\n\nconst deletePublication = async(id) => {\n    try {\n        await axios.delete(PUBLICATION_URL, {\n            headers: getHeaders(),\n            data: {\n                id: id\n            }\n        });\n    } catch(e) {\n        throw new Error(\"Error while deleting publication\");\n    }\n}\n\nconst getComments = async (publiID) => {\n    try {\n        const resp = await axios.post(COMMENTS_URL, {\n            publiID: publiID\n        }, {headers: getHeaders()});\n        console.log(resp.data);\n        return resp.data;\n    } catch (e){\n        throw new Error(\"Error loading comments\")\n    }\n}\n\nconst deleteComment = async(id) => {\n    try {\n        await axios.delete(COMMENTS_URL, {\n            headers: getHeaders(),\n            data : {\n                id: id\n            }\n        });\n    } catch(e) {\n        throw new Error(\"Error while deleting comment !\");\n    }\n}\nexport {getPublications, deleteReports, deletePublication, getComments, deleteComment};"]},"metadata":{},"sourceType":"module"}