{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Cours\\\\Projets\\\\React\\\\API-BO\\\\bo\\\\src\\\\components\\\\Login\\\\index.js\";\nimport React from \"react\";\nimport \"./Login.css\";\nimport { connect } from \"../../API/login\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: \"\",\n      password: \"\",\n      error: false,\n      errorMessage: \"\",\n      loaded: false\n    };\n  }\n\n  connect(e) {\n    e.preventDefault();\n    this.setState({\n      error: false,\n      token: \"\"\n    }, async () => {\n      try {\n        await connect(this.state.login, this.state.password);\n        this.props.history.push(\"/\");\n      } catch (e) {\n        this.setState({\n          error: true,\n          errorMessage: e.message,\n          loaded: true\n        });\n      }\n    });\n  }\n\n  switchPassword() {\n    let element = document.getElementById(\"password\");\n\n    if (element.type === \"text\") {\n      element.type = \"password\";\n    } else {\n      element.type = \"text\";\n    }\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem(\"token\") !== null) {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  render() {\n    let Error = null;\n\n    if (this.state.error) {\n      Error = /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"error\",\n        children: this.state.errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"loginForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon_input\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-user icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          name: \"username\",\n          onChange: e => this.setState({\n            login: e.target.value\n          }),\n          required: true,\n          className: \"loginFormInput\",\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon_input\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-key icon\",\n          onClick: () => this.switchPassword()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          onChange: e => this.setState({\n            password: e.target.value\n          }),\n          required: true,\n          className: \"loginFormInput\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        name: \"login\",\n        value: \"Login\",\n        onClick: e => this.connect(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this), Error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/components/Login/index.js"],"names":["React","connect","Login","Component","constructor","props","state","login","password","error","errorMessage","loaded","e","preventDefault","setState","token","history","push","message","switchPassword","element","document","getElementById","type","componentDidMount","localStorage","getItem","render","Error","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Login.css\"\n\nimport {connect} from \"../../API/login\";\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            login: \"\",\n            password: \"\",\n            error: false,\n            errorMessage: \"\",\n            loaded: false\n        };\n    }\n\n    connect(e){\n        e.preventDefault();\n        this.setState({error: false, token: \"\"}, async() => {\n            try {\n                await connect(this.state.login, this.state.password);\n                this.props.history.push(\"/\");\n            } catch(e) {\n                this.setState({\n                    error: true,\n                    errorMessage: e.message,\n                    loaded: true\n                })\n            }\n        });\n    }\n\n    switchPassword(){\n        let element = document.getElementById(\"password\");\n        if(element.type === \"text\"){\n            element.type = \"password\";\n        } else {\n            element.type = \"text\";\n        }\n    }\n\n    componentDidMount() {\n        if(localStorage.getItem(\"token\") !== null){\n            this.props.history.push(\"/\");\n        }\n    }\n\n    render() {\n        let Error = null;\n\n        if(this.state.error) {\n            Error = <p id=\"error\">{this.state.errorMessage}</p>;\n        }\n\n        return <form id=\"loginForm\">\n            <h1>Student</h1>\n\n            <div className=\"icon_input\">\n                <i className=\"fa fa-user icon\"/>\n                <input type=\"text\"\n                       id=\"username\"\n                       name=\"username\"\n                       onChange={\n                           (e) => this.setState({login: e.target.value})\n                       }\n                       required\n                       className=\"loginFormInput\"\n                       placeholder=\"Username\"\n                />\n            </div>\n\n            <div className=\"icon_input\">\n                <i className=\"fa fa-key icon\" onClick={() => this.switchPassword()}/>\n                <input type=\"password\"\n                       id=\"password\"\n                       name=\"password\"\n                       onChange={\n                           (e) => this.setState({password: e.target.value})\n                       }\n                       required\n                       className=\"loginFormInput\"\n                       placeholder=\"Password\"\n                />\n            </div>\n            <input type=\"submit\" name=\"login\" value=\"Login\" onClick={(e) => this.connect(e)}/>\n            {Error}\n        </form>\n    }\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}