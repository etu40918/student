{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Cours\\\\Projets\\\\React\\\\API-BO\\\\bo\\\\src\\\\components\\\\SignInForm\\\\index.js\";\nimport React from \"react\";\nimport \"../../CSS/SignInForm.css\";\nimport { login } from \"../../API/login/login\";\n\nclass SignInForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: \"\",\n      password: \"\",\n      error: false,\n      errorMessage: \"\",\n      loaded: false\n    };\n  }\n\n  connect(e) {\n    e.preventDefault();\n    this.setState({\n      error: false,\n      token: \"\"\n    }, async () => {\n      try {\n        const result = await login(this.state.login, this.state.password);\n        localStorage.setItem(\"token\", result);\n        window.location.reload();\n      } catch (e) {\n        this.setState({\n          error: true,\n          errorMessage: e.message,\n          loaded: true\n        });\n      }\n    });\n  }\n\n  switchPassword() {\n    let element = document.getElementById(\"password\");\n\n    if (element.type === \"text\") {\n      element.type = \"password\";\n    } else {\n      element.type = \"text\";\n    }\n  }\n\n  render() {\n    let Error = null;\n\n    if (this.state.error) {\n      Error = /*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"error\",\n        children: this.state.errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"loginForm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon_input\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-user icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          name: \"username\",\n          onChange: e => this.setState({\n            login: e.target.value\n          }),\n          required: true,\n          className: \"loginFormInput\",\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icon_input\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-key icon\",\n          onClick: () => this.switchPassword()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          onChange: e => this.setState({\n            password: e.target.value\n          }),\n          required: true,\n          className: \"loginFormInput\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        name: \"login\",\n        value: \"Login\",\n        onClick: e => this.connect(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this), Error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default SignInForm;","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/components/SignInForm/index.js"],"names":["React","login","SignInForm","Component","constructor","props","state","password","error","errorMessage","loaded","connect","e","preventDefault","setState","token","result","localStorage","setItem","window","location","reload","message","switchPassword","element","document","getElementById","type","render","Error","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"../../CSS/SignInForm.css\"\n\nimport {login} from \"../../API/login/login\";\n\nclass SignInForm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            login: \"\",\n            password: \"\",\n            error: false,\n            errorMessage: \"\",\n            loaded: false\n        }\n    }\n\n    connect(e){\n        e.preventDefault();\n        this.setState({error: false, token: \"\"}, async() => {\n            try {\n                const result = await login(this.state.login, this.state.password);\n                localStorage.setItem(\"token\", result);\n                window.location.reload();\n            } catch(e) {\n                this.setState({\n                    error: true,\n                    errorMessage: e.message,\n                    loaded: true\n                })\n            }\n        });\n    }\n\n    switchPassword(){\n        let element = document.getElementById(\"password\");\n        if(element.type === \"text\"){\n            element.type = \"password\";\n        } else {\n            element.type = \"text\";\n        }\n    }\n\n    render() {\n        let Error = null;\n\n        if(this.state.error) {\n            Error = <p id=\"error\">{this.state.errorMessage}</p>;\n        }\n\n        return <form id=\"loginForm\">\n            <h1>Student</h1>\n\n            <div className=\"icon_input\">\n                <i className=\"fa fa-user icon\"/>\n                <input type=\"text\"\n                       id=\"username\"\n                       name=\"username\"\n                       onChange={\n                           (e) => this.setState({login: e.target.value})\n                       }\n                       required\n                       className=\"loginFormInput\"\n                       placeholder=\"Username\"\n                />\n            </div>\n\n            <div className=\"icon_input\">\n                <i className=\"fa fa-key icon\" onClick={() => this.switchPassword()}/>\n                <input type=\"password\"\n                       id=\"password\"\n                       name=\"password\"\n                       onChange={\n                           (e) => this.setState({password: e.target.value})\n                       }\n                       required\n                       className=\"loginFormInput\"\n                       placeholder=\"Password\"\n                />\n            </div>\n            <input type=\"submit\" name=\"login\" value=\"Login\" onClick={(e) => this.connect(e)}/>\n            {Error}\n        </form>\n    }\n}\n\nexport default SignInForm;"]},"metadata":{},"sourceType":"module"}