{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Cours\\\\Projets\\\\React\\\\API-BO\\\\bo\\\\src\\\\components\\\\Panel\\\\Users\\\\index.js\";\nimport React from \"react\";\nimport { getUsers, deleteUser } from \"../../../API/user\";\nimport \"./Users.css\";\nimport { confirmAlert } from \"react-confirm-alert\";\n\nclass Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      usersDisplay: []\n    };\n  }\n\n  async componentDidMount() {\n    const results = await getUsers();\n    this.setState({\n      users: results,\n      usersDisplay: results\n    });\n  }\n\n  search(e) {\n    let searchValue = e.target.value;\n\n    if (searchValue === \"\") {\n      let usersDisplay = this.state.users;\n      this.setState({\n        usersDisplay: usersDisplay\n      });\n    } else {\n      let users = this.state.users;\n      let filteredUsers = users.filter(user => {\n        return user.email.toLowerCase().includes(searchValue) || user.firstname.toLowerCase().includes(searchValue) || user.lastname.toLowerCase().includes(searchValue);\n      });\n      this.setState({\n        usersDisplay: filteredUsers\n      });\n    }\n  }\n\n  async deleteUser(email) {\n    await deleteUser(email);\n    const results = await getUsers();\n    this.setState({\n      users: results,\n      usersDisplay: results\n    });\n  }\n\n  confirmDelete(e, email) {\n    e.preventDefault();\n    confirmAlert({\n      title: 'Delete user',\n      message: 'Do u really want to delete this user ?',\n      buttons: [{\n        label: 'Yes',\n        onClick: async () => await this.deleteUser(email)\n      }, {\n        label: 'No'\n      }]\n    });\n  }\n\n  tabData() {\n    let users = this.state.usersDisplay;\n    return users.map((user, index) => {\n      const {\n        email,\n        firstname,\n        lastname,\n        birthday\n      } = user;\n      let alt = index % 2 === 1 ? \"alt\" : \"\";\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: firstname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: lastname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: birthday\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"editButton\",\n            children: \"\\u270F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: alt,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => this.confirmDelete(e, email),\n            className: \"deleteButton\",\n            children: \"\\uD83D\\uDDD1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"users\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        id: \"userTitle\",\n        children: \"USERS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"searchBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"searchInput\",\n          type: \"text\",\n          name: \"\",\n          placeholder: \"Search\",\n          onChange: e => this.search(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"searchButton\",\n          onClick: e => e.preventDefault(),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Firstname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Lastname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 53\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Birthday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 70\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 87\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 100\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.tabData()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nexport default Users;","map":{"version":3,"sources":["D:/Cours/Projets/React/API-BO/bo/src/components/Panel/Users/index.js"],"names":["React","getUsers","deleteUser","confirmAlert","Users","Component","constructor","props","state","users","usersDisplay","componentDidMount","results","setState","search","e","searchValue","target","value","filteredUsers","filter","user","email","toLowerCase","includes","firstname","lastname","confirmDelete","preventDefault","title","message","buttons","label","onClick","tabData","map","index","birthday","alt","render"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport {getUsers, deleteUser} from \"../../../API/user\";\n\nimport \"./Users.css\";\nimport {confirmAlert} from \"react-confirm-alert\";\n\nclass Users extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            users: [],\n            usersDisplay: []\n        }\n    }\n\n    async componentDidMount() {\n        const results = await getUsers();\n        this.setState({\n            users: results,\n            usersDisplay: results\n        });\n    }\n\n    search(e){\n        let searchValue = e.target.value;\n        if(searchValue === \"\"){\n            let usersDisplay = this.state.users;\n            this.setState({usersDisplay: usersDisplay});\n        } else {\n            let users = this.state.users;\n            let filteredUsers = users.filter((user) => {\n                return user.email.toLowerCase().includes(searchValue)\n                    || user.firstname.toLowerCase().includes(searchValue)\n                    || user.lastname.toLowerCase().includes(searchValue);\n            })\n            this.setState({usersDisplay: filteredUsers});\n        }\n    }\n\n    async deleteUser(email) {\n        await deleteUser(email);\n        const results = await getUsers();\n        this.setState({\n            users: results,\n            usersDisplay: results\n        });\n    }\n\n    confirmDelete(e, email) {\n        e.preventDefault();\n        confirmAlert({\n            title: 'Delete user',\n            message: 'Do u really want to delete this user ?',\n            buttons: [\n                {\n                    label: 'Yes',\n                    onClick: async () => await this.deleteUser(email)\n                },\n                {\n                    label: 'No'\n                }\n            ]\n        });\n    }\n\n\n    tabData() {\n        let users = this.state.usersDisplay;\n\n        return users.map((user, index) => {\n            const {email, firstname, lastname, birthday} = user;\n\n            let alt = (index % 2) === 1 ? \"alt\" : \"\";\n\n            return (\n                <tr key={index}>\n                    <td className={alt}>{email}</td>\n                    <td className={alt}>{firstname}</td>\n                    <td className={alt}>{lastname}</td>\n                    <td className={alt}>{birthday}</td>\n                    <td className={alt}><button className=\"editButton\">✏</button></td>\n                    <td className={alt}><button onClick={(e) => this.confirmDelete(e, email)} className=\"deleteButton\">🗑</button></td>\n                </tr>\n            );\n        });\n    }\n\n    render(){\n        return <div id=\"users\">\n            <p id=\"userTitle\">USERS</p>\n\n            <form className=\"searchBox\">\n                <input className=\"searchInput\" type=\"text\" name=\"\" placeholder=\"Search\" onChange={(e) => this.search(e)}/>\n                <button className=\"searchButton\" onClick={(e) => e.preventDefault()}>\n                    <i className=\"fa fa-search\"/>\n                </button>\n            </form>\n\n            <table>\n                <thead>\n                <tr><th>Email</th><th>Firstname</th><th>Lastname</th><th>Birthday</th><th>Edit</th><th>Delete</th></tr>\n                </thead>\n                <tbody>\n                {this.tabData()}\n                </tbody>\n            </table>\n        </div>\n    }\n}\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}